{% extends "base.html" %}

{% block head %}
  {{ super() }}
  <style>
    .rsvp-card {
      margin-left: auto;
      margin-right: auto;
      margin-top: 20px;
      margin-bottom: 20px;

      text-align: left;

      width: 70%;
      min-width: 300px;
    }

    .rsvp-card__title {
      background-color: var(--primary-color);
      color: var(--text-on-primary)
    }   

  </style>
{% endblock head %}

{% block header %}
    {{ super() }}
{% endblock header %}

{% block content %}
  <form id="rsvpForm" action="/rsvp" method="POST">
    {% for guest in party %}
      <input type=hidden id="id{{ loop.index }}" name="id{{ loop.index }}" value={{ guest.id }}>
    {% endfor %}
    {% if rehearsal %}
      <div class="mdl-card rsvp-card mdl-shadow--2dp">
        <div class="mdl-card__title rsvp-card__title">
          <h3 class="mdl-card__title-text rsvp-card__title-text"t>
            Rehearsal Dinner
          </h3>
        </div>
        <div class="mdl-card__supporting-text">
          <ul class="mdl-list rsvp-card__guest-list">
            {% for guest in party %}
              {% if guest.rehearsalInvite == 1 %}
                  <li class="mdl-list__item rsvp-card__guest-list__item">
                  <span>
                    {{ guest.name }} will be
                    <select id="rehearsalRSVPStatus{{ guest.id }}" name="rehearsalRSVPStatus{{ guest.id }}" required>
                      {% if not guest.rehearsalRSVPStatus %}
                        <option value="" selected disabled hidden> Choose here </option>
                      {% else %}
                          <option value="" disabled hidden> Choose here </option>
                      {% endif %}
                      {% if guest.rehearsalRSVPStatus == "attending" %}
                        <option value="attending" selected>attending</option>
                      {% else %}
                        <option value="attending">attending</option>
                      {% endif %}
                      {% if guest.rehearsalRSVPStatus == "not attending" %}
                        <option value="not attending" selected>not attending</option>
                      {% else %}
                        <option value="not attending">not attending</option>
                      {% endif %}
                    </select>
                    the rehearsal dinner and chooses the
                    <select id="rehearsalFoodChoice{{ guest.id }}" name="rehearsalFoodChoice{{ guest.id }}" required>
                      {% if not guest.rehearsalFoodChoice %}
                        <option value="" selected disabled hidden> Choose here </option>
                      {% else %}
                        <option value="" disabled hidden> Choose here </option>
                      {% endif %}
                      {% if guest.rehearsalFoodChoice == "beef" %}
                        <option value="beef" selected>beef</option>
                      {% else %}
                        <option value="beef">beef</option>
                      {% endif %}
                      {% if guest.rehearsalFoodChoice == "vegetarian" %}
                        <option value="vegetarian" selected>vegetarian</option>
                      {% else %}
                        <option value="vegetarian">vegetarian</option>
                      {% endif %}
                    </select>
                    food option.
                  </span>
                </li>
              {% endif %}
            {% endfor %}
          </ul>
        </div>
      </div>
    {% endif %}
    {% if welcome %}
      <div class="mdl-card rsvp-card mdl-shadow--2dp">
        <div class="mdl-card__title rsvp-card__title">
          <h3 class="mdl-card__title-text rsvp-card__title-text"t>
            Welcome Reception
          </h3>
        </div>
        <div class="mdl-card__supporting-text">
          <ul class="mdl-list rsvp-card__guest-list">
            {% for guest in party %}
              {% if guest.welcomeReceptionInvite == 1 %}
                <li class="mdl-list__item rsvp-card__guest-list__item">
                  <span>
                    {{ guest.name }} will be
                    <select id="welcomeReceptionRSVPStatus{{ guest.id }}" name="welcomeReceptionRSVPStatus{{ guest.id }}" required>
                      {% if not guest.welcomeReceptionRSVPStatus %}
                        <option value="" selected disabled hidden> Choose here </option>
                      {% else %}
                        <option value="" disabled hidden> Choose here </option>
                      {% endif %}
                      {% if guest.welcomeReceptionRSVPStatus == "attending" %}
                        <option value="attending" selected>attending</option>
                      {% else %}
                        <option value="attending">attending</option>
                      {% endif %}
                      {% if guest.welcomeReceptionRSVPStatus == "not attending" %}
                        <option value="not attending" selected>not attending</option>
                      {% else %}
                        <option value="not attending">not attending</option>
                      {% endif %}
                    </select>
                    the welcome reception.
                  </span>
                </li>
              {% endif %}
            {% endfor %}
          </ul>
        </div>
      </div>
    {% endif %}

    <div class="mdl-card rsvp-card mdl-shadow--2dp">
      <div class="mdl-card__title rsvp-card__title">
        <h3 class="mdl-card__title-text rsvp-card__title-text"t>
            Reception
        </h3>
      </div>
      <div class="mdl-card__supporting-text">
        <ul class="mdl-list rsvp-card__guest-list">
          {% for guest in party %}
            <li class="mdl-list__item rsvp-card__guest-list__item">
              <span>
                {{ guest.name }} will be
                <select id="receptionRSVPStatus{{ guest.id }}" name="receptionRSVPStatus{{ guest.id }}" required>
                  {% if not guest.receptionRSVPStatus %}
                    <option value="" selected disabled hidden> Choose here </option>
                  {% else %}
                    <option value="" disabled hidden> Choose here </option>
                  {% endif %}
                  {% if guest.receptionRSVPStatus == "attending" %}
                    <option value="attending" selected>attending</option>
                  {% else %}
                    <option value="attending">attending</option>
                  {% endif %}
                  {% if guest.receptionRSVPStatus == "not attending" %}
                    <option value="not attending" selected>not attending</option>
                  {% else %}
                    <option value="not attending">not attending</option>
                  {% endif %}
                </select>
                the wedding reception and choose the             
                <select id="receptionFoodChoice{{ guest.id }}" name="receptionFoodChoice{{ guest.id }}" required>
                  {% if not guest.receptionFoodChoice %}
                    <option value="" selected disabled hidden> Choose here </option>
                  {% else %}
                    <option value="" disabled hidden> Choose here </option>
                  {% endif %}
                  {% if guest.receptionFoodChoice == "chicken" %}
                    <option value="chicken" selected>chicken</option>
                  {% else %}
                    <option value="chicken">chicken</option>
                  {% endif %}
                  {% if guest.receptionFoodChoice == "fish" %}
                    <option value="fish" selected>fish</option>
                  {% else %}
                    <option value="fish">fish</option>
                  {% endif %}
                </select>
                food option.
              </span>
            </li>
          {% endfor %}
        </ul>
      </div>
    </div>

    <div class="mdl-card rsvp-card mdl-shadow--2dp">
      <div class="mdl-card__title rsvp-card__title">
        <h3 class="mdl-card__title-text rsvp-card__title-text"t>
            Final Thoughts
        </h3>
      </div>
      <div class="mdl-card__supporting-text rsvp-card__supporting-text">
        <span>- Please let us know about any dietary observations</span>
        <span>- Our engagement is also a time of spiritual preparation for us. If there are any intentions for which we can pray (for you), let us know!</span>
      </div>
      <div class="mdl-card__actions rsvp-card__actions">
        {% if party[0].comment %}
          <textarea id="comment{{party[0].id}}" Name="comment{{party[0].id}}">{{ party[0].comment }}</textarea>
        {% else %}
          <textarea id="comment{{party[0].id}}" Name="comment{{party[0].id}}"></textarea>
        {% endif %}
      </div>
    <span>
      <input type="submit">
    </span>
  </form>
{% endblock content %}

{% block footer %}
    {{ super() }}
{% endblock footer %}

